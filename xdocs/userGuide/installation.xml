<?xml version="1.0"?>
<document url="installation.html">

  <properties>
    <title>Apache Struts Core Users Guide - Installation (1.1)</title>
  </properties>

  <body>
  <section name="6.2 Installation" href="installation">
  <subsection name="Prerequisite Software" href="Prerequisites">

  <p>The Struts Core binary distribution needs three other software packages installed to
  operate. You may already have these installed on your system. To build Struts from
  source you may need to acquire and install several others. The complete list is as
  follows:</p>

  <ul>
  <li><strong>Java Development Kit</strong> - You <strong>must</strong> download and install
      a Java2 (version 1.2 or later) Java Development Kit implementation for
      your operating system platform.
      A good starting point for locating Java Development Kit distributions is
      <a href="http://java.sun.com/j2se">http://java.sun.com/j2se</a>.
      To build Struts, Java 1.4.2 (the latest production JDK) is suggested and 
      required if you use our Maven build system. </li>

  <li><strong>Servlet Container</strong> - You <strong>must</strong> download and install a
      servlet container that is compatible with the Servlet API Specification,
      version 2.3 or later, and the JavaServer Pages (JSP) Specification,
      version 1.2 or later.  One popular choice is to download Apache's
      <a href="http://jakarta.apache.org/tomcat/">Tomcat</a>, but any compliant
      container should work well with Struts.</li>

  <li><strong>XML Parser</strong> - Struts <strong>requires</strong> the presence of an XML
      parser that is compatible with the Java API for XML Parsing (JAXP)
      specification, 1.1 or later. This is bundled with J2SE 1.4 and later.
      For earlier versions of Java, the easiest way to obtain JAXP is
      probably by downloading the Web Services Developers Kit
      (1.1 or later!). See the <a href="http://java.sun.com/xml/jaxp/faq.html#jaxp-ri-latest">
      Sun JAXP FAQ</a> for more information.)
      In Struts-based web applications, you may replace the reference
      implementation classes with any other JAXP compliant parser, such as
      <a href="http://xml.apache.org/xerces-j">Xerces</a>.  See detailed
      instructions related to the parser in the instructions for
      <a href="#Building">building</a> and <a href="#Installing">installing</a>
      Struts, below.</li>

  <li><strong>Maven Build System</strong> - If you are building Struts Core from the
      source distribution, you must download and install the 
      <a href="http://maven.apache.org/maven-1.x/">Apache Maven 1.1</a> build system.
      </li>

  </ul>

  </subsection>

  <subsection name="Install A Struts Core Library Distribution" href="Installing">

    <p>First, download a binary distribution of Struts Core Library by following the
    instructions <a href=".http://struts.apache.org/acquiring.html">here</a>. Then, make sure
    you have downloaded and installed the
    <a href="#Prerequisites">prerequisite</a> software packages described
    above.</p>

    <p>Unpack the Struts Core Library distribution into a convenient directory.
    (If you <a href="#Building">build Struts from the source distribution</a>,
    the result of the build will already be an unpacked binary distribution
    for you). The distribution consists of the following contents:</p>

    <ul>
    <li><strong>lib/*.jar</strong> - The struts-*.jars contains Java classes
        distributed by Apache Struts. The other JAR files contain packages
        from other projects that are imported by Struts subprojects. When you launch
        a Struts-based application, these JARs need to be available to your
        application, usually by copying them to the application's
        <code>WEB-INF/lib</code> directory. <br />
        <em>WARNING</em> - If you are going to be hosting multiple Struts
        based applications on the same servlet container, you will be tempted
        to place the <code>struts.jar</code> file into the shared repository
        supported by your container.  Be advised that this may cause
        ClassNotFoundException problems unless <em>all</em> of
        your application classes are stored in the shared repository.</li>
    <li><strong>lib/*.tld</strong> - These are the "tag library
        descriptor" files that describe the custom tags in the various Struts
        JSP tag libraries. The tld file for any Struts taglibs that you use should
        be copied into the <code>WEB-INF</code> directory of your web
        application. (You can omit this
        step if the <a href="configuration.html#dd_config_taglib_23">standard uri</a>
        is referenced.)</li>
    <li><strong>webapps/struts-blank.war</strong> - This is a simple "web
        application archive" file containing a basic starting point for
        building your own Struts-based applications.</li>
    <li><strong>webapps/struts-mailreader.war</strong> - This is an example
        web application that uses a large percentage of Struts features.
        You can install this web application on any servlet container
        compatible with the Servlet 2.2 (or later) and JSP 1.2 (or later)
        specifications. If an XML parser is not made available to web
        applications by your container, you will need to add one to the
        WEB-INF/lib directory of this web application.</li>
    </ul>

    <p>To use Struts Core Library in your own application, you will need to follow
    these steps:</p>
    <ul>
    <li>Copy the <code>lib/*.jar</code> files from the Struts
        Core Library distribution into the <code>WEB-INF/lib</code> directory of your
        web application.</li>
    <li>Copy the <code>lib/*.tld</code> files for any Struts taglibs you use
        from the Library distribution into the <code>WEB-INF</code> directory
        of your web application.</li>
    <li>Modify the <code>WEB-INF/web.xml</code> file for your web application
        to include a <code>&lt;servlet&gt;</code> element to define the
        controller servlet, and a <code>&lt;servlet-mapping&gt;</code> element
        to establish which request URIs are mapped to this servlet. Use the
        <code>WEB-INF/web.xml</code> file from the Struts example application
        for a detailed example of the required syntax.</li>
    <li>Create a file <code>WEB-INF/struts-config.xml</code> that defines the
        action mappings and other characteristics of your specific application.
        You can use the <code>struts-config.xml</code> file from the Struts
        Blank application for examples of the required syntax.</li>
    <li>At the top of each JSP page that will use the Struts JST tags,
        add line(s) declaring the Struts JSP tag libraries used on
        this particular page, like this:</li>
    </ul>

<pre>&lt;%@ taglib uri="/tags/struts-bean" prefix="bean" %&gt;
&lt;%@ taglib uri="/tags/struts-html" prefix="html" %&gt;
&lt;%@ taglib uri="/tags/struts-logic" prefix="logic" %&gt;
</pre>

    <ul>
    <li>When compiling the Java classes that comprise your application, be sure
        to include the JAR files (copied earlier) on the
        CLASSPATH that is submitted to the compiler.</li>
    </ul>
</subsection> <subsection name="Installing Struts Core With Your Servlet Container" href="Containers">

<p>For most containers, you need only to: </p>
<ul>
  <li>Copy the WAR files in your Struts <code>/webapp</code> directory to your
    containers <code>webapps</code> directory. </li>
  <li>In some cases, you may need to restart your container if it is running.</li>
</ul>

<h4>Running Struts Core Applications Under A Security Manager</h4>

<p>Many application servers execute web applications under the control of a
Java security manager, with restricted permissions on what classes in the web
application can do.  If you utilize form beans with mapped properties, you may
encounter security exceptions unless you add the following permission to the
set of permissions granted to your Struts Core application's codebase:</p>
<pre>
  permission java.lang.RuntimePermission "accessDeclaredMembers";
</pre>

<p>Consult the documentation on your application server for more information
about how to configure additional security manager permissions.</p>

<h4>Installing Struts Core on Various Containers</h4>
<ul>
  <li>Bluestone Universal Business Server 7.2 - <a href="installation-ubs72.html">Additional
    steps required.</a></li>
  <li>Borland Application Server 4.5 -No additional
    steps required.</li>
  <li>iPlanet Application Server - Service Pack 2 is recommended. Note that the database
  object in the Struts MailReader application is not compatible with this container.</li>
  <li>iPlanet Web Server - <a href="installation-ip.html">Additional steps required.</a></li>
  <li>iPortal Application Server - <a href="installation-ipas.html">Additional steps required.</a></li>
  <li>Jetty - <a href="installation-jetty.html">Additional steps required.</a></li>
  <li>JRun - <a href="installation-jr30.html">Additional steps required.</a></li>
  <li>Novell ExteNd Application Server 4.0+ -
      <a href="installation-novell.html">Additional steps required.</a></li>
  <li>Orion Application Server - <a href="installation-oas.html">Additional steps
    required.</a></li>
  <li>Resin 1.2+ "standalone" - No additional steps required.</li>
  <li>RexIP - No additional steps required.</li>
  <li>SilverStream 3.7.1 and later - <a href="installation-sas.html">Additional steps required.</a></li>
  <li>Tomcat 3.1 and prior - Not recommended. Use Tomcat 3.2.1 or later.</li>
  <li>Tomcat 3.2.1 with Apache - <a href="installation-tc.html">Additional steps
    required.</a></li>
  <li>Tomcat 3.2.1+ "standalone" - No additional steps required.</li>
  <li>Tomcat 4.0 - No additional steps required.</li>
  <li>Trifork Enterprise Application Server 3.3.x - No additional steps required.</li>
  <li>Weblogic 5.1 sp8 - <a href="installation-wls5.html">Additional steps required.</a></li>
  <li>WebLogic 6.0+ - No additional steps required.</li>
  <li>WebSphere - <a href="installation-was352.html">Additional steps required.</a></li>
  <li>WebSphere - <a href="installation-was352-x.html">Steps for the Example Application.</a></li></ul>
</subsection>

<subsection name="Building Struts Core From Source" href="Building">

    <p>
    First, download a source distribution of a Struts subproject by following the
    instructions <a href="http://struts.apache.org/acquiring.html">here</a>. Then, make sure
    you have downloaded and installed <a href="http://maven.apache.org/maven-1.x/">Apache Maven 1.1</a> 
    </p>
    
    <p>
    Change to the subproject you would like to build, and invoke
    </p>
    
    <source>maven build</source>

     <p>
     Go to the \build directory and run the command
     </p>

     <source>$maven build-all</source>
      
  </subsection>

<subsection>
    <p class="right">
    Next: <a href="../faqs/index.html">FAQs and HowTos</a>
    </p>
</subsection>

  </section>
</body>
</document>
